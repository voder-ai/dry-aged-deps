# 001.2-SDLC-AUTO-FORMATTING: Auto-formatting on save

## Release Goal

**CLI Development Automation: Step 2 - Core Development**

Eliminate manual formatting tasks by setting up automatic code formatting on save. This provides immediate feedback and maintains code consistency without developer intervention.

## How This Story Contributes

Automates the most frequent development task - code formatting. Removes cognitive load and prevents formatting-related code review comments by ensuring consistent style automatically.

## User Story

**Format**: So that I can maintain consistent code style without manual effort, as a developer, I want code to be automatically formatted every time I save a file.

**INVEST Criteria Compliance**:

- **Independent**: Can be implemented standalone using VS Code configuration
- **Negotiable**: Formatting rules can be customized, tools can be swapped
- **Valuable**: Saves time on every file save and prevents style inconsistencies
- **Estimable**: Clear scope - VS Code settings + prettier configuration
- **Small**: Can be completed in single session (XS effort)
- **Testable**: Clear success criteria - files format automatically on save

## Acceptance Criteria

- [ ] **VS Code Configuration**: .vscode/settings.json configures format-on-save
- [ ] **Prettier Integration**: Prettier extension handles JavaScript/JSON/Markdown formatting
- [ ] **Project Settings**: Prettier config file defines consistent formatting rules
- [ ] **File Type Support**: Formats .js, .json, .md, and other relevant file types
- [ ] **Error Handling**: Graceful handling when prettier fails to format

## Requirements (Current Implementation or To Be Implemented)

- **REQ-VSCODE-SETTINGS**: Configure editor.formatOnSave in workspace settings
- **REQ-PRETTIER-CONFIG**: Create .prettierrc with project formatting rules
- **REQ-FORMAT-VALIDATION**: Verify formatting works across different file types

## Dependencies

None - uses existing VS Code capabilities and prettier extension.

## Implementation Notes

**Technical Considerations**:

- Use workspace-specific VS Code settings, not global user settings
- Include .prettierrc config file in project root
- Consider .prettierignore for files that shouldn't be formatted
- Ensure formatting is fast enough not to disrupt development flow

**Configuration Files**:

`.vscode/settings.json`:

```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode"
}
```

`.prettierrc`:

```json
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5"
}
```

**Testing Strategy**:

- Test auto-formatting on different file types
- Verify settings work for new team members
- Test behavior when prettier extension is missing

## Definition of Done

- [ ] All acceptance criteria met
- [ ] .vscode/settings.json committed to repository
- [ ] .prettierrc configuration file created and tested
- [ ] Documentation explains setup for team members
- [ ] Verified to work on fresh VS Code installation
- [ ] Team members can immediately benefit from auto-formatting

---

## Story Notes

**WSJF Score**: 15 (Size: XS=1, Business Value: High=3, Time Criticality: High=3, Risk Reduction: High=3)

**Implementation Approach**: Leverage VS Code's built-in capabilities rather than external file watching tools.

**Next Evolution**: Story 001.3 will add live linting feedback for immediate error detection.
