# Issue: @semantic-release/npm Security Vulnerability

## Status
⚠️ **ACTIVE - TEMPORARY WORKAROUND IN PLACE**

## Discovered
2025-11-09

## Description
The package `@semantic-release/npm` version 13.1.1 contains a security vulnerability (GHSA-29xp-372q-xqph) affecting its transitive dependency `tar@7.5.1`. This results in 3 moderate severity vulnerabilities.

## Impact
- **Security Risk**: Moderate severity vulnerabilities in the dependency chain
- **Publishing Limitation**: Version 12.0.2 (the secure alternative) does not support automation tokens with npm packages that have 2FA enabled for "Auth and Publish"

## Current Workaround
1. Downgraded to `@semantic-release/npm@^12.0.2` (secure, no vulnerabilities)
2. Removed 2FA "Auth and Publish" requirement from npm package settings (changed to "Auth Only")
3. This allows automation tokens to work with v12.0.2 for CI/CD publishing

## Root Cause
- Version 13.x introduced the vulnerability via tar dependency
- Version 12.x lacks support for automation tokens when npm package has "Auth and Publish" 2FA enabled
- Trade-off: Security (no CVEs) vs. Feature (2FA publishing support)

## Action Required
**Monitor for a non-vulnerable version of @semantic-release/npm ≥13.1.2 that resolves GHSA-29xp-372q-xqph**

When available:
1. Upgrade package.json: `"@semantic-release/npm": "^13.x.x"` (use latest secure version)
2. Run `npm install` to update package-lock.json
3. Re-enable npm package 2FA "Auth and Publish" setting if desired
4. Verify CI/CD pipeline publishes successfully with provenance
5. Close this issue

## Verification Steps
```bash
# Check for vulnerabilities
npm audit

# Verify @semantic-release/npm version
npm ls @semantic-release/npm

# Check for newer versions
npm outdated @semantic-release/npm

# Check specific version for vulnerabilities
npm info @semantic-release/npm@<version> | grep -i vulnerabilities
```

## References
- Vulnerability: GHSA-29xp-372q-xqph
- Affected versions: @semantic-release/npm >=13.0.0-alpha.1
- Safe version: @semantic-release/npm@12.0.2
- Commit implementing workaround: 5ed04d8

## Related Files
- `package.json` - Contains @semantic-release/npm dependency version
- `package-lock.json` - Locks to v12.0.2
- `.voder/history.md` - Documents the security resolution
