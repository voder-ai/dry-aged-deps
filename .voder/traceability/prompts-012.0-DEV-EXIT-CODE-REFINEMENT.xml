<?xml version="1.0" encoding="UTF-8"?>
<traceability>
  <specification>prompts/012.0-DEV-EXIT-CODE-REFINEMENT.md</specification>
  <status>FAILED</status>
  <last_validated>2025-11-12T13:59:45.115Z</last_validated>
  <last_modified>2025-11-11T08:04:07.339Z</last_modified>
  <evidence>1. Documentation: README.md still marks `--check` exit codes as “coming soon” (line 58) instead of fully documenting them.
2. Inconsistent error exit codes across formats: 
   - Table/default mode: invalid JSON parse → process.exit(1) (tested in test/cli.error-cmd.test.js)
   - XML mode: same invalid JSON parse → process.exit(2) (tested in test/cli.format-xml.error.test.js)
   This violates REQ-CONSISTENCY (“same exit codes regardless of --format”).
3. Missing tests (and implementation) for a true npm-outdated failure (execFileSync error without stdout) exiting with code 2 in non-XML modes, as required by REQ-EXIT-2.
</evidence>
  <notes>While most check-mode exit codes and flag-validation errors are covered by tests and behave correctly, error scenarios are handled inconsistently across output formats and the README hasn’t been updated to fully document exit codes. Tests for npm-outdated failures are also absent, so not all acceptance criteria are satisfied.</notes>
</traceability>