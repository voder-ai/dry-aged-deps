<?xml version="1.0" encoding="UTF-8"?>
<traceability>
  <specification>prompts/012.0-DEV-EXIT-CODE-REFINEMENT.md</specification>
  <status>FAILED</status>
  <last_validated>2025-11-12T13:24:06.099Z</last_validated>
  <last_modified>2025-11-11T08:04:07.339Z</last_modified>
  <evidence>1) In bin/dry-aged-deps.js all non-error runs (including safe-updates) end with `process.exit(0)`, so exit code 1 is never emitted for the “updates available” case.  
2) Error handling is inconsistent: for default/table format JSON-parse failures the code does `process.exit(1)` (see lines 338–345), but for XML it does `process.exit(2)` (lines 331–334). The spec mandates exit code 2 on any error and consistent codes across formats.  
3) There are no tests checking for exit code 1 when safe updates are found, and no “check” mode implemented to drive that behavior.  
4) The README/help still labels `--check` as “coming soon” and does not list the standardized codes for normal runs as required.</evidence>
  <notes>The codebase and tests reflect the old behavior (always exit 0 on success, mixed exit 1/2 on errors) and never emit exit 1 for safe-update detection. This does not satisfy the spec’s acceptance criteria around exit code 1 or consistent exit 2 on errors.</notes>
</traceability>