<?xml version="1.0" encoding="UTF-8"?>
<traceability>
  <specification>prompts/012.0-DEV-EXIT-CODE-REFINEMENT.md</specification>
  <status>PASSED</status>
  <last_validated>2025-11-16T13:22:32.103Z</last_validated>
  <last_modified>2025-11-11T08:04:07.339Z</last_modified>
  <evidence>1) In bin/dry-aged-deps.js (lines 93–102):
   • On normal and --check modes: `process.exit(summary.safeUpdates > 0 ? 1 : 0)`
   • Errors go through `handleError(...); process.exit(2)`
2) Tests covering all scenarios:
   • test/cli.upToDate.test.js → exitCode === 0 when no updates found
   • test/cli.outdated.test.js    → exitCode === 1 when safe updates present
   • test/cli.check-mode.test.js:
       – exitCode 0 in JSON mode when no updates
       – exitCode 1 in table/JSON/XML modes when updates exist
       – exitCode 2 on invalid format or out‐of‐range --min-age
   • test/cli.error-cmd.test.js   → exitCode 2 when npm outdated output is invalid JSON
3) Documentation:
   • README.md “## Exit Codes” section lists 0, 1, 2 with their meanings
   • --help text in bin/dry-aged-deps.js documents exit codes for --check mode</evidence>
  <notes>All acceptance criteria for exit code refinement are implemented and verified by unit and integration tests. Exit codes 0, 1, and 2 behave correctly across table, JSON, and XML modes; errors produce code 2; documentation in README and --help is up to date.</notes>
</traceability>