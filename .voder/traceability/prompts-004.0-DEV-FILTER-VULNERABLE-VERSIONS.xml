<?xml version="1.0" encoding="UTF-8"?>
<traceability>
  <specification>prompts/004.0-DEV-FILTER-VULNERABLE-VERSIONS.md</specification>
  <status>PASSED</status>
  <last_validated>2025-11-14T18:34:44.951Z</last_validated>
  <last_modified>2025-11-09T23:02:37.596Z</last_modified>
  <evidence>Multiple unit tests reference prompts/004.0-DEV-FILTER-VULNERABLE-VERSIONS.md (e.g., test/filter-by-security.test.js, test/vulnerability-evaluator.test.js, test/filter-by-security.smart-search.test.js) and all pass. Functional E2E test for 004.0 (in test/functional-assessment.test.js) verifies XML output, exit code, and filtered results. No failing tests and code implements audit-based vulnerability checking (transitive via npm audit), smart-search fallback, and exclusion of vulnerable versions.</evidence>
  <notes>All acceptance criteria for 004.0 are satisfied: core vulnerability checks via npm audit include transitive dependencies; smart-search fallback selects newest safe version; vulnerable versions are filtered out; final CLI output in table/JSON/XML modes reflects only safe, mature updates; clear handling when no safe version exists.</notes>
</traceability>