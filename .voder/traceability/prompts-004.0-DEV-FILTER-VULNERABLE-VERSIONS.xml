<?xml version="1.0" encoding="UTF-8"?>
<traceability>
  <specification>prompts/004.0-DEV-FILTER-VULNERABLE-VERSIONS.md</specification>
  <status>FAILED</status>
  <last_validated>2025-11-12T10:59:33.228Z</last_validated>
  <last_modified>2025-11-09T23:02:37.596Z</last_modified>
  <evidence>In src/print-outdated.js the vulnerability filtering logic only ever checks the single ‘latest’ version for each package (lines 139–153) and, if vulnerable, excludes the package entirely. There is no code to retrieve or iterate through earlier mature versions (“work backwards until finding a safe one”), nor any tests exercising that behavior. The smart-search requirement (REQ-SMART-SEARCH) from prompts/004.0-DEV-FILTER-VULNERABLE-VERSIONS.md is not implemented.</evidence>
  <notes>Core vulnerability detection (REQ-AUDIT-CHECK and REQ-TRANSITIVE-DEPS) and basic filtering (REQ-SAFE-ONLY) are in place, and output messages for no safe versions exist (REQ-CLEAR-OUTPUT), but the key smart-search across multiple versions is missing, so the story is incomplete.</notes>
</traceability>